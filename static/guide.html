<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ë¡œë˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ â€” ë°°í¬ & ì ê²€ ê°€ì´ë“œ</title>
  <style>
    :root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#9ca3af;--accent:#60a5fa;--ok:#34d399;--warn:#fbbf24;--bad:#f87171;}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI","Noto Sans KR",Arial}
    header{padding:16px;border-bottom:1px solid rgba(255,255,255,.08);background:#0e162e;position:sticky;top:0;z-index:5}
    h1{margin:0;font-size:20px}
    .container{max-width:980px;margin:0 auto;padding:16px}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:16px;margin:12px 0}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);font-size:12px}
    button{background:var(--accent);color:#0b1220;border:none;padding:8px 12px;border-radius:10px;font-weight:700;cursor:pointer}
    input[type=text]{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:8px;padding:8px;min-width:260px}
    code,kbd{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);padding:2px 6px;border-radius:6px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
    a{color:#93c5fd}
    .ok{color:var(--ok)} .bad{color:var(--bad)} .muted{color:var(--muted)}
    details{border:1px dashed rgba(255,255,255,.15);border-radius:10px;padding:10px}
    summary{cursor:pointer;font-weight:700}
    ol.check>li{margin:6px 0;padding-left:6px}
    .grid{display:grid;gap:12px}
    @media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}
    .mini{font-size:12px}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
  </style>
</head>
<body>
  <header>
    <div class="container row">
      <h1>ğŸ›  ë¡œë˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ â€” ë°°í¬ & ìë™ ìµœì‹ í™” ì ê²€ ê°€ì´ë“œ</h1>
      <span class="pill">ì´ í˜ì´ì§€ë¥¼ <b>static/guide.html</b> ë¡œ ë°°ì¹˜</span>
    </div>
  </header>

  <div class="container">

    <section class="card">
      <h2>1) ë°°í¬ ì „ ì²´í¬</h2>
      <ol class="check">
        <li><b>ë¦¬í¬ì§€í† ë¦¬ êµ¬ì¡°</b> í™•ì¸: <code>server.py</code>, <code>requirements.txt</code>, <code>static/index.html</code>, <code>utils/</code></li>
        <li><b>Render</b> ì‹œì‘ ëª…ë ¹: <code>uvicorn server:app --host 0.0.0.0 --port 8000</code></li>
        <li><b>requirements.txt</b> ì„¤ì¹˜ ê°€ëŠ¥ í™•ì¸: <code>fastapi, uvicorn, requests, beautifulsoup4, pandas, numpy</code></li>
      </ol>
      <div class="muted mini">Vercel ì‚¬ìš© ì‹œ <code>vercel.json</code> ì„¤ì • í•„ìš” (ì„œë²„í˜• ë°°í¬ ê¶Œì¥: Render)</div>
    </section>

    <section class="card">
      <h2>2) ê¸°ë³¸ ë™ì‘ ì ê²€</h2>
      <div class="row">
        <label>ë°°í¬ URL ì…ë ¥: <input type="text" id="base" placeholder="ì˜ˆ: https://lotto.example.onrender.com"></label>
        <button id="btnPing">API í—¬ìŠ¤ ì²´í¬</button>
        <span id="pingResult" class="pill">ëŒ€ê¸° ì¤‘</span>
      </div>
      <div id="results" class="grid grid-2" style="margin-top:12px">
        <div class="card">
          <b>API: /api/latest</b>
          <div class="mini muted">ìµœì‹  íšŒì°¨ ë²ˆí˜¸</div>
          <pre id="rLatest" class="mono"></pre>
        </div>
        <div class="card">
          <b>API: /api/all?start=1&end=10</b>
          <div class="mini muted">ìƒ˜í”Œ ë°ì´í„° 1~10íšŒ</div>
          <pre id="rAll" class="mono"></pre>
        </div>
      </div>
      <details style="margin-top:8px">
        <summary>ë¬¸ì œ í•´ê²° ê°€ì´ë“œ</summary>
        <ul>
          <li><b>/api/latest 404</b> â†’ <code>server.py</code> ë¼ìš°íŠ¸ í™•ì¸</li>
          <li><b>ë°°í¬ URL ì ‘ì† ì•ˆ ë¨</b> â†’ Render ë¡œê·¸ì—ì„œ í¬íŠ¸/ë¹Œë“œ ëª…ë ¹ í™•ì¸</li>
          <li><b>ë°ì´í„° ë¹„ì–´ìˆìŒ</b> â†’ ë™í–‰ë³µê¶Œ API í˜¸ì¶œ ì œí•œ, ì ì‹œ í›„ ì¬ì‹œë„</li>
        </ul>
      </details>
    </section>

    <section class="card">
      <h2>3) í™”ë©´ ìš”ì†Œ ì ê²€</h2>
      <ol class="check">
        <li><b>ì˜ˆì¸¡ ë²ˆí˜¸</b> â€” 5ì„¸íŠ¸ ë²ˆí˜¸ì™€ ë³´ë„ˆìŠ¤ ê³µ, ê·¼ê±°(%) í‘œê°€ í‘œì‹œë˜ëŠ”ê°€?</li>
        <li><b>ì´ë²ˆ ì£¼ ì¶”ì²œ ì „ëµ ì¹´ë“œ</b> â€” ì „ëµëª…/Score/ë³´ìƒ-ìœ„í—˜/ìŠ¹ë¥ ì´ í‘œì‹œë˜ëŠ”ê°€?</li>
        <li><b>ìµœê·¼ ê²°ê³¼Â·íšŒì°¨ ì í”„</b> â€” ìµœê·¼ 10íšŒ í‘œì™€ íšŒì°¨ ê²€ìƒ‰ì´ ì‘ë™í•˜ëŠ”ê°€?</li>
        <li><b>êµ¬ê°„ë³„ ë²ˆí˜¸ ë¹ˆë„</b> â€” ìƒìœ„ ë‘ êµ¬ê°„(ğŸŸ©ğŸŸ¦)ê³¼ ìµœí•˜ìœ„(ğŸŸ¥) ê°•ì¡°ê°€ ìˆëŠ”ê°€?</li>
        <li><b>ì „ëµë³„ ì¶”ì²œ(ìƒì„¸)</b> â€” ì„¸ ì „ëµ í‘œì™€ ìŠ¹ë¥  ë„ë„› ì°¨íŠ¸ê°€ ë³´ì´ëŠ”ê°€?</li>
      </ol>
    </section>

    <section class="card">
      <h2>4) ìš´ì˜ íŒ</h2>
      <ul>
        <li><b>ìºì‹œ ë¬´ì‹œ ìƒˆë¡œê³ ì¹¨</b>: <kbd>Ctrl</kbd> + <kbd>F5</kbd></li>
        <li><b>ë¡œê·¸ í™•ì¸</b>: Render ëŒ€ì‹œë³´ë“œ â†’ Logs</li>
        <li><b>ì†ë„ ìµœì í™”</b>: ê¸°ë³¸ í™”ë©´ì€ ìµœê·¼ 10íšŒë§Œ ë Œë”ë§, <em>ì „ì²´ ë°ì´í„°ëŠ” ë°±ê·¸ë¼ìš´ë“œ ë¡œë”©</em></li>
      </ul>
    </section>

    <section class="card">
      <h2>5) ë¹ ë¥¸ ë§í¬</h2>
      <ul>
        <li><a id="linkHome" href="#" target="_blank">í™ˆ (/) ì—´ê¸°</a></li>
        <li><a id="linkStatic" href="#" target="_blank">ì •ì  í˜ì´ì§€ (static/index.html)</a></li>
        <li><a id="linkLatest" href="#" target="_blank">API ìµœì‹  íšŒì°¨ (/api/latest)</a></li>
        <li><a id="linkAll" href="#" target="_blank">API ì „ì²´ (/api/all)</a></li>
      </ul>
      <div class="muted mini">â€» ìœ„ ë§í¬ëŠ” ìƒë‹¨ì— ì…ë ¥í•œ ë°°í¬ URL ê¸°ì¤€ìœ¼ë¡œ ìë™ ì„¤ì •ë©ë‹ˆë‹¤.</div>
    </section>

    <section class="card">
      <h2>ë¶€ë¡) Render ì„¤ì • ì¶”ì²œ</h2>
      <pre class="mono">Build Command: pip install -r requirements.txt
Start Command: uvicorn server:app --host 0.0.0.0 --port 8000</pre>
      <div class="muted mini">Python í™˜ê²½ì€ ê¸°ë³¸ ì¸ì‹. í•„ìš” ì‹œ Python ë²„ì „ì„ Renderì˜ í™˜ê²½ ë³€ìˆ˜ë¡œ ì§€ì •.</div>
    </section>

  </div>

  <script>
    const $ = (id)=>document.getElementById(id);
    function setLinks(base){
      if(!base) return;
      $("#linkHome").href = base + "/";
      $("#linkStatic").href = base + "/static/index.html";
      $("#linkLatest").href = base + "/api/latest";
      $("#linkAll").href = base + "/api/all?start=1&end=10";
    }
    async function ping(){
      const base = $("#base").value.trim().replace(/\/+$/,'');
      if(!base){ alert("ë°°í¬ URLì„ ì…ë ¥í•˜ì„¸ìš”"); return; }
      setLinks(base);
      $("#pingResult").textContent = "ìš”ì²­ ì¤‘...";
      try{
        const [a,b] = await Promise.all([
          fetch(base + "/api/latest", {cache:"no-store"}),
          fetch(base + "/api/all?start=1&end=10", {cache:"no-store"})
        ]);
        const ja = await a.json();
        const jb = await b.json();
        $("#rLatest").textContent = JSON.stringify(ja,null,2);
        $("#rAll").textContent = JSON.stringify({rows: (jb.rows||[]).slice(0,2)}, null, 2) + "\n...";
        $("#pingResult").textContent = "ì •ìƒ";
        $("#pingResult").className = "pill ok";
      }catch(e){
        $("#pingResult").textContent = "ì‹¤íŒ¨";
        $("#pingResult").className = "pill bad";
        $("#rLatest").textContent = String(e);
        $("#rAll").textContent = "";
      }
    }
    $("#btnPing").addEventListener("click", ping);
  </script>
</body>
</html>
